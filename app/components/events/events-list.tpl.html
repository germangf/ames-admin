<section>
  <md-toolbar>
    <div class="md-toolbar-tools">
      <md-button ng-click="showFilter()" class="md-icon-button" aria-label="search">
        <md-icon class="material-icons white">search</md-icon>
      </md-button>
      <h2>
        <span>Búsqueda</span>
      </h2>
      <span flex></span>
      <md-button ng-click="showFilter()" class="md-icon-button" aria-label="filter">
        <md-icon class="material-icons white">filter_list</md-icon>
      </md-button>
    </div>
  </md-toolbar>


  <md-content ng-show="showFilterContainer" layout-padding>
    <form novalidate="" ng-submit="filter()" class="md-inline-form">
      <div layout layout-sm="column">
        <md-input-container flex>
          <label>Nombre</label>
          <input ng-model="filterData.name">
        </md-input-container>
        <!-- 
        <md-input-container flex>
          <label>Apellidos</label>
          <input ng-model="filterData.lastName">
        </md-input-container>
        <md-input-container flex>
          <label>Email</label>
          <input ng-model="filterData.email">
        </md-input-container>
        -->
      </div>
      <div layout layout-sm="column">
        <md-input-container flex>
          <label>Sección</label>
          <md-select ng-model="filterData.section">
            <md-option ng-repeat="section in sections" value="{{section.code}}">
              {{section.description}}
            </md-option>
          </md-select>
        </md-input-container>
        <!-- 
        <md-input-container flex>
          <label>Cuota</label>
          <md-select ng-model="filterData.quotePending">
            <md-option ng-repeat="quotePending in quotePendings" value="{{quotePending.code}}">
              {{quotePending.description}}
            </md-option>
          </md-select>
        </md-input-container>
        -->
        <md-input-container flex>
          <label>Estado</label>
          <md-select ng-model="filterData.status">
            <md-option ng-repeat="status in memberStatus" value="{{status.code}}">
              {{status.description}}
            </md-option>
          </md-select>
        </md-input-container>
      </div>
      <md-content class="layout-row flex" layout-align="end center">
        <md-button type="submit" class="md-raised md-primary">Buscar</md-button>
      </md-content>
    </form>
  </md-content>
</section>
<br>

<section>
  <md-toolbar>
    <div class="md-toolbar-tools">
      <md-button class="md-icon-button" aria-label="list">
        <md-icon class="material-icons white">list</md-icon>
      </md-button>
      <h2>
        <span>Listado</span>
      </h2>
      <span flex></span>
      <md-button ui-sref="events.detail({ id: 0 })" class="md-fab md-accent md-mini md-fab-top-right" aria-label="Add">
        <md-icon class="material-icons white">add</md-icon>
      </md-button>
    </div>
  </md-toolbar>

  <md-content layout="column" flex="flex">
    <md-data-table-container>
      <table md-data-table md-progress="deferred">
        <thead md-order="query.order" md-trigger="onOrderChange">
          <tr>
            <th name="Tipo" order-by="type"></th>
            <th name="Nombre" order-by="name"></th>
            <th name="Sección" order-by="section"></th>
            <th name="Lugar" order-by="location"></th>
            <th name="Fecha" order-by="date"></th>
          </tr>
        </thead>
        <tbody>
          <tr ui-sref="events.detail({ id: event._id })" md-auto-select ng-repeat="event in events">
            <td>{{event.typeDescription}}</td>
            <td>{{event.name}}</td>
            <td>{{event.sectionDescription}}</td>
            <td>{{event.location}}</td>
            <td>{{event.date}}</td>
          </tr>
        </tbody>
      </table>
    </md-data-table-container>

    <md-data-table-pagination md-limit="query.limit" md-page="query.page" md-total="{{eventsTotal}}" md-trigger="onPaginationChange"></md-data-table-pagination>

  </md-content>
</section>
